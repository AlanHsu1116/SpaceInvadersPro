<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英打練習 - Arcade Center</title>
    <link rel="stylesheet" href="style_typing.css">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>
<body>
    <div id="gameWrapper">
        <button id="backToMenuBtn" onclick="window.location.href='index.html'">← ARCADE MENU</button>
        
        <div id="ui-layer">
            <div class="stat-box">
                <div class="label">SCORE</div>
                <div id="scoreDisplay">0</div>
            </div>
            <div class="stat-box">
                <div class="label">TIME</div>
                <div id="timeDisplay">60</div>
            </div>
            <div class="stat-box">
                <div class="label">WPM</div>
                <div id="wpmDisplay">0</div>
            </div>
            <div class="stat-box">
                <div class="label">LEVEL</div>
                <div id="levelDisplay">1</div>
            </div>
            <div class="stat-box">
                <div class="label">GOAL</div>
                <div id="goalDisplay">0/0</div>
            </div>
        </div>

        <canvas id="gameCanvas"></canvas>

        <div id="startScreen">
            <h1 class="glitch-title">英打練習</h1>
            <p class="subtitle">SYSTEM BREACH DETECTED</p>
            <div class="instructions">
                <p>[ TYPE TO DESTROY ]</p>
                <p>Prevent words from reaching the data core.</p>
            </div>
            <button id="startBtn">INITIALIZE DEFENSE</button>
            <button id="practiceBtn" style="margin-top: 20px; border-color: #0aa; color: #0aa;">PRACTICE MODE</button>
            <button id="leaderboardBtn" style="margin-top: 20px;">HIGH SCORES</button>
        </div>

        <div id="practiceScreen" class="hidden">
            <h1>SELECT DIFFICULTY</h1>
            <div class="difficulty-container">
                <button class="diff-btn" data-diff="easy" style="border-color: #0f0; color: #0f0;">
                    <div class="diff-title">EASY</div>
                    <div class="diff-desc">Short Words • Slow Speed</div>
                </button>
                <button class="diff-btn" data-diff="medium" style="border-color: #ff0; color: #ff0;">
                    <div class="diff-title">MEDIUM</div>
                    <div class="diff-desc">Mixed Words • Normal Speed</div>
                </button>
                <button class="diff-btn" data-diff="hard" style="border-color: #f00; color: #f00;">
                    <div class="diff-title">HARD</div>
                    <div class="diff-desc">Long Words • Fast Speed</div>
                </button>
            </div>
            <button id="backToStartBtn" style="margin-top: 40px;">← RETURN</button>
        </div>

        <div id="gameOverScreen" class="hidden">
            <h1 class="danger-text">SYSTEM FAILURE</h1>
            <div class="final-stats">
                <p>Final Score: <span id="finalScore">0</span></p>
                <p>Max WPM: <span id="finalWpm">0</span></p>
                <p>Words Cleared: <span id="finalWords">0</span></p>
            </div>
            
            <div id="inputContainer" class="hidden" style="margin-bottom: 20px;">
                <input type="text" id="playerNameInput" placeholder="ENTER INITIALS" maxlength="3" autocomplete="off">
                <button id="submitScoreBtn">SAVE RECORD</button>
            </div>

            <button id="restartBtn">REBOOT SYSTEM</button>
            <button id="gameoverLeaderboardBtn" style="margin-top: 20px; border-color: #fff; color: #fff;">VIEW SCORES</button>
        </div>

        <div id="leaderboardScreen" class="hidden">
            <h1>TOP RECORDS</h1>
            <div class="leaderboard-container">
                <table id="leaderboardTable">
                    <thead>
                        <tr>
                            <th>RANK</th>
                            <th>NAME</th>
                            <th>SCORE</th>
                            <th>WPM</th>
                            <th>DATE</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboardList">
                        <!-- Scores will be injected here -->
                    </tbody>
                </table>
            </div>
            <button id="closeLeaderboardBtn">RETURN TO ROOT</button>
        </div>
        
        <!-- Effects overlay -->
        <div class="scanline"></div>
    </div>

    <!-- Hidden Input for Mobile Support -->
    <input type="text" id="mobileInput" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">

    <script src="script_typing.js"></script>
</body>
</html>